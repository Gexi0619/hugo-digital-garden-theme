<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- Enable Google Analytics -->
    {{ if .Site.Params.googleAnalytics }}
    <script async src="https://www.googletagmanager.com/gtag/js?id={{ .Site.Params.googleAnalytics }}"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag() { dataLayer.push(arguments); }
        gtag('js', new Date());
        gtag('config', '{{ .Site.Params.googleAnalytics }}');
    </script>
    {{ end }}
    <!-- Enable Google Fonts -->
    {{ $titleFont := .Site.Params.fonts.title | default "Inter" }}
    {{ $titleType := .Site.Params.fonts.titleType | default "sans-serif" }}
    {{ $titleWeights := .Site.Params.fonts.titleWeights | default "400;500;600;700;800" }}
    {{ $bodyFont := .Site.Params.fonts.body | default "Lora" }}
    {{ $bodyType := .Site.Params.fonts.bodyType | default "serif" }}
    {{ $bodyWeights := .Site.Params.fonts.bodyWeights | default "400;600" }}
    {{ $titleFontURL := replace $titleFont " " "+" }}
    {{ $bodyFontURL := replace $bodyFont " " "+" }}
    {{/* Build body font ital,wght pairs: 0,400;0,600;1,400;1,600 */}}
    {{ $bodyWeightsList := split $bodyWeights ";" }}
    {{ $bodyPairs := slice }}
    {{ range $bodyWeightsList }}{{ $bodyPairs = $bodyPairs | append (printf "0,%s" .) }}{{ end }}
    {{ range $bodyWeightsList }}{{ $bodyPairs = $bodyPairs | append (printf "1,%s" .) }}{{ end }}
    {{ $bodyWeightsParam := delimit $bodyPairs ";" }}
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family={{ $titleFontURL }}:wght@{{ $titleWeights }}&family={{ $bodyFontURL }}:ital,wght@{{ $bodyWeightsParam }}&display=swap" rel="stylesheet">
    <!-- CSS Styles (including Bootstrap 5 and FontAwesome 6) -->
    {{ $cacheBust := now.Unix }}
    <link rel="stylesheet" type="text/css" href="/css/bootstrap.min.css?v={{ $cacheBust }}">
    <link rel="stylesheet" type="text/css" href="/css/all.min.css?v={{ $cacheBust }}">
    <link disabled id="dark-mode-theme" rel="stylesheet" href="/css/dark.css?v={{ $cacheBust }}">
    <link rel="stylesheet" type="text/css" href="/css/style.css?v={{ $cacheBust }}">
    <link rel="stylesheet" type="text/css" href="/css/my_style.css?v={{ $cacheBust }}">
    <!-- Override CSS font variables from config -->
    <style>
      :root {
        --title: '{{ $titleFont }}', {{ $titleType }};
        --body: '{{ $bodyFont }}', {{ $bodyType }};
      }
    </style>
    <!-- Favicon -->
    {{ with resources.Get "favicon.svg" }}
    <link rel="icon" type="image/svg+xml" href="{{ .RelPermalink }}">
    {{ else }}
    {{ with resources.Get "favicon.png" }}
    <link rel="icon" type="image/png" href="{{ .RelPermalink }}">
    {{ else }}
    <link rel="icon" href="/favicon.ico">
    {{ end }}
    {{ end }}
    <!-- Site Title -->
    {{ $title := print .Site.Title " | " .Title }}
    {{ if .IsHome }}{{ $title = .Site.Title }}{{ end }}
    <title>{{ $title }}</title>
    <meta name="description" content="{{ if .IsPage }}{{ .Summary }}{{ else }}{{ if .IsHome }}{{ .Site.Params.description }}{{ else }}{{ end }}{{ end }}">
</head>