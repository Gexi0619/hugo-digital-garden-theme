{{- /* Tag section partial
     Renders a section's pages within a tag page.
     Receives: dict "ctx" $ "name" .name "pages" .pages "display" .display "show" .show "isLink" .isLink "showCount" .showCount
     display: "list" | "grid" | "full"
     show: slice of field names e.g. ["summary", "tags", "date", "lastmod", "status", "image"]
     isLink: boolean, default true (set to false when in tag pages)
     showCount: boolean, default true (set to false when in tag pages)
*/ -}}
{{- $ctx := .ctx -}}
{{- $name := .name -}}
{{- $pages := .pages -}}
{{- $display := .display | default "list" -}}
{{- $show := .show -}}
{{- $isLink := .isLink | default true -}}
{{- $showCount := .showCount | default true -}}

{{ if gt (len $pages) 0 }}
<section class="home-section">
	{{- with $ctx.Site.GetPage "section" $name -}}
	<div class="pb-3">
		{{ partial "section_heading.html" (dict "page" . "count" (len $pages) "isLink" $isLink "showCount" (and $showCount (ne $display "full"))) }}
	</div>
	{{- end -}}

	{{ if eq $display "list" }}
		{{ partial "display_list.html" (dict "pages" $pages "show" $show) }}
	{{ else if eq $display "grid" }}
		{{ partial "display_grid.html" (dict "pages" $pages "show" $show) }}
	{{ else if eq $display "full" }}
		{{ partial "display_full.html" (dict "pages" $pages "show" $show) }}
	{{ end }}
</section>
{{ end }}
